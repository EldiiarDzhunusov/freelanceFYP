<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="ISO-8859-1">
  <title>Job Details</title>
  <link rel="stylesheet" type="text/css" href="/webjars/bootstrap/css/bootstrap.min.css" />
  <script type="text/javascript" src="/webjars/jquery/jquery.min.js"></script>
  <script type="text/javascript" src="/webjars/bootstrap/js/bootstrap.min.js"></script>
</head>
<body>
<div class="container text-center">
  <div>
    <h1>Job details</h1>
  </div>
  <div>
    <h2>  <a th:href="@{/jobs/edit/{id}(id=${job.id})}">Edit</a></h2>

    <div th:if="${job.getJobStatus().toString().equals('PENDING')}">
      <h2>  <a th:href="@{/application/apply/{id}(id=${job.id})}">Apply</a></h2>
    </div>


  </div>
  <div>
    <table class="table table-striped table-bordered">
      <thead class="thead-dark">
      <tr>
        <th>Job Id</th>
        <th>Name</th>
        <th>Price</th>
        <th>Description</th>
        <th>Job Status</th>
        <th>Author</th>
      </tr>
      </thead>
      <tbody>
      <tr>
<!--      <tr th:each="job: ${job}">-->
        <td th:text="${job.id}">Job ID</td>
        <td th:text="${job.name}">Name</td>
        <td th:text="${job.price}">Price</td>
        <td th:text="${job.description}">Description</td>
        <td th:text="${job.getJobStatus()}">Job Status</td>
        <td>
          <a th:href="@{/users/profile/{id}(id=${job.getEmployer().getId()})}">Author</a>
        </td>
      </tr>
      </tbody>
    </table>
  </div>



  <div align="left">
    <h3>Skills Required:</h3>
  </div>


  <div>
    <table class="table table-striped table-bordered">
      <thead class="thead-dark">
      <tr>
        <th>Skill ID</th>
        <th>Name</th>
        <th>Details</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="skill: ${job.jobSkills}">
        <td th:text="${skill.id}">User ID</td>
        <td th:text="${skill.name}">E-mail</td>

        <td>
          <a th:href="@{/skills/{id}(id=${skill.id})}">Details</a>
        </td>
      </tr>
      </tbody>
    </table>
  </div>

  <div align="left">
    <h3>Applications:</h3>
  </div>


  <div>
    <table class="table table-striped table-bordered">
      <thead class="thead-dark">
      <tr>
        <th>Application ID</th>
        <th>Description</th>
        <th>Proposed Price</th>
        <th>Freelancer</th>
        <th>Status</th>
        <th>Actions</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="application1: ${job.applicationList}">
        <td th:text="${application1.getId()}"></td>
        <td th:text="${application1.getDescription()}"></td>
        <td th:text="${application1.getProposedPrice()}"></td>
        <td>
          <a th:href="@{/users/profile/{id}(id=${application1.getFreelancer().getId()})}" th:text="${application1.getFreelancer().getFullNameAbbreviation()}"></a>
        </td>
        <td th:text="${application1.getApplicationStatus()}"></td>
        <td>
          <a th:href="@{/application/{id}(id=${application1.getId()})}">Details</a>
        </td>
      </tr>
      </tbody>
    </table>
  </div>

</div>
</body>
</html>